<form [formGroup]="userForm" (ngSubmit)="onSubmit()">
  <div>
    <label for="username">Username: </label>
    <input
      id="username"
      type="text"
      formControlName="username"
      required
      minlength="3"
      maxlength="24"
    />
    <div
      *ngIf="username.invalid && (username.dirty || username.touched)"
      class="alert"
    >
      <div *ngIf="username.errors?.['required']">Username is required.</div>
      <div
        *ngIf="username.errors?.['minlength'] || username.errors?.['maxlength']"
      >
        Username must be at least 3-24 characters long.
      </div>
    </div>
  </div>
  <div>
    <label for="email">Email: </label>
    <input id="email" type="email" required formControlName="email" />
    <div *ngIf="email.invalid && (email.dirty || email.touched)" class="alert">
      <div *ngIf="email.errors?.['required']">Email is required.</div>
      <div *ngIf="email.errors?.['email']">Incorrect email format.</div>
    </div>
  </div>
  <div>
    <label for="type">Type: </label>
    <select id="type" required formControlName="type">
      <option value="admin">Admin</option>
      <option value="user">User</option>
    </select>
    <div *ngIf="type.invalid && (type.dirty || type.touched)" class="alert">
      <div *ngIf="email.errors?.['required']">Type is required.</div>
    </div>
  </div>
  <div>
    <label for="password">Password: </label>
    <input
      id="password"
      type="password"
      formControlName="password"
      required
      minlength="5"
      maxlength="24"
    />
    <div
      *ngIf="password.invalid && (password.dirty || password.touched)"
      class="alert"
    >
      <div *ngIf="password.errors?.['required']">Password is required.</div>
      <div
        *ngIf="password.errors?.['minlength'] || password.errors?.['maxlength']"
      >
        Password must be at least 5-24 characters long.
      </div>
      <div *ngIf="password.errors?.['pattern']">
        Password must contain upper and lower case, at least one special
        character.
      </div>
    </div>
  </div>

  <p>Complete the form to enable button.</p>
  <button type="submit" [disabled]="!userForm.valid || isFetching">
    Submit
  </button>
</form>

<hr />

<p>Form Value:</p>
<pre>{{ userForm.value | json }} </pre>

<p>Form Status: {{ userForm.status }}</p>

<!-- 
Copyright Google LLC. All Rights Reserved.
Use of this source code is governed by an MIT-style license that
can be found in the LICENSE file at https://angular.io/license
-->
